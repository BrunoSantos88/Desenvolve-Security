FROM node:18
WORKDIR /usr/src/app
RUN npm install -g express
RUN mkdir myapp
WORKDIR /usr/src/app/myapp
RUN npm init -y && npm install express
RUN echo "const express = require('express');\nconst app = express();\n\napp.get('/', (req, res) => {\n  res.send('Ola mundo!');\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n  console.log(\`Server is running on port \${PORT}\`);\n});" > express.js
EXPOSE 3000
CMD [ "node", "express.js" ]